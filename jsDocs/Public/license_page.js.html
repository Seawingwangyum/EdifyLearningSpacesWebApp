<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: license_page.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: license_page.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>var response = {};


var crimtxtState = "close",
    sitetxtState = "close",
    floortxtState = "close",
    reftxtState = "close",
    firetxtState = "close",
    immtxtState = "close",
    emptxtState = "close";


var crimfile = document.getElementById("crimfile");
var floorfile = document.getElementById("floorfile")
var sitefile = document.getElementById("sitefile")
var reffile = document.getElementById("reffile")
var firefile = document.getElementById("firefile")


var crimnotes = document.getElementById("crimnotes");
var floornotes = document.getElementById("floornotes")
var sitenotes = document.getElementById("sitenotes")
var refnotes = document.getElementById("refnotes")
var firenotes = document.getElementById("firenotes")

/**
* Function to open and close criminal record check information box
* 
*/
function crimOC() {
    var text = document.getElementById("crInfo"),
        submit = document.getElementById("crInfo2");
document.getElementById("crimCheck").addEventListener("click", () =>{
    if (crimtxtState == "close"){
        text.style.display = "block";
        submit.style.display = "block";
        crimtxtState = "open";
    } else if (crimtxtState = "open"){
        text.style.display = "none";
        submit.style.display = "none";
       crimtxtState = "close";
    }
});
}

/**
* Function to open and close site check information box
*/
function siteOC() {
   var text = document.getElementById("siteInfo"),
       submit= document.getElementById("siteInfo2");
    document.getElementById("siteCheck").addEventListener("click", () =>{
    if (sitetxtState == "close"){
        text.style.display = "block";
        submit.style.display = "block";
        sitetxtState = "open";
    } else if (sitetxtState = "open"){
        text.style.display = "none";
        submit.style.display = "none";
       sitetxtState = "close";
    }
});
}

/**
* Function to open and close floor plan information box
*/
function floorOC() {
    var text = document.getElementById("floorInfo"),
        submit = document.getElementById("floorInfo2");
    document.getElementById("floorCheck").addEventListener("click", () =>{
    if (floortxtState == "close"){
        text.style.display = "block";
        submit.style.display = "block";
        floortxtState = "open";
    } else if (floortxtState = "open"){
       text.style.display = "none";
        submit.style.display = "none";
       floortxtState = "close";
    }
});
}
/**
* Function to open and close fire safety information box
*/
function fireOC() {
    var text = document.getElementById("fireInfo"),
        submit = document.getElementById("fireInfo2");
    document.getElementById("firePlan").addEventListener("click", () =>{
    if (firetxtState == "close"){
        text.style.display = "block";
        submit.style.display = "block";
        firetxtState = "open";
    } else if (firetxtState = "open"){
       text.style.display = "none";
        submit.style.display = "none";
       firetxtState = "close";
    }
});
}

/**
* Function to open and close References information box
*/
function refOC() {
    var text = document.getElementById("refInfo"),
        submit = document.getElementById("refInfo2");
    document.getElementById("refCheck").addEventListener("click", () =>{
    if (reftxtState == "close"){
        text.style.display = "block";
        submit.style.display = "block";
        reftxtState = "open";
    } else if (reftxtState = "open"){
       text.style.display = "none";
        submit.style.display = "none";
       reftxtState = "close";
    }
});
}

/**
* Function to open and close immunication information box
*/
function immunOC() {
    var text = document.getElementById("immunInfo");
    document.getElementById("immunStat").addEventListener("click", () =>{
    if (immtxtState == "close"){
        text.style.display = "block";
        immtxtState = "open";
    } else if (reftxtState = "open"){
       text.style.display = "none";
       immtxtState = "close";
    }
});
}

/**
* Function to open and close immunication information box
*/
function empOC() {
    var text = document.getElementById("empInfo");
    document.getElementById("empPlan").addEventListener("click", () =>{
    if (emptxtState == "close"){
        text.style.display = "block";
        emptxtState = "open";
    } else if (reftxtState = "open"){
       text.style.display = "none";
       emptxtState = "close";
    }
});
}



function ajax_function(json_obj){
    $.ajax({
        type: 'POST',
        data: JSON.stringify(json_obj),
        contentType: 'multipart/form-data;boundary=abc',
        url: '/licenses',
        success: function(data){
            console.log(data)
            if(data){
                swal({

                    type: 'success',

                    title: 'Your file has been filed',

                    confirmButtonText: 'OK'

                    }).then((result) => {

                        

                })
            }
            else{

                alert("Whoops, something went wrong")
            }
        }
    })
}

function send_prep(filetype){
    
    if (filetype == 'crimfile') {
        response["type"] = 'criminal';
        response["file"] = crimfile.value;
        response["notes"] = crimnotes.value;
        
    } else if (filetype == 'sitefile') {
        response["type"] = 'siteplan';
        response["file"] = sitefile.value;
        response["notes"] = sitenotes.value;
    } else if (filetype == 'floorfile') {
        response["type"] = 'floorplan';
        response["file"] = floorfile.value;
        response["notes"] = floornotes.value;
    } else if (filetype == 'reffile') {
        response["type"] = 'reference';
        response["file"] = reffile.value;
        response["notes"] = refnotes.value;
    } else if (filetype == 'firefile') {
        response["type"] = 'fireplan';
        response["file"] = firefile.value;
        response["notes"] = firenotes.value;
    }

    
    
    
    ajax_function(response);
}


document.getElementById('crimsubmit').addEventListener("click",function(){
    send_prep('crimfile');
})
document.getElementById('sitesubmit').addEventListener("click",function(){
    send_prep('sitefile');
})
document.getElementById('floorsubmit').addEventListener("click",function(){
    send_prep('floorfile');
})
document.getElementById('refsubmit').addEventListener("click",function(){
    send_prep('reffile');
})
document.getElementById('firesubmit').addEventListener("click",function(){
    send_prep('firefile');
})

crimOC();
siteOC();
floorOC();
refOC();
fireOC();
immunOC();
empOC();
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#ajax_function">ajax_function</a></li><li><a href="global.html#changeEmail">changeEmail</a></li><li><a href="global.html#changeName">changeName</a></li><li><a href="global.html#changePassword">changePassword</a></li><li><a href="global.html#check_characters">check_characters</a></li><li><a href="global.html#checkForBlankEntry">checkForBlankEntry</a></li><li><a href="global.html#checkForEmailFormat">checkForEmailFormat</a></li><li><a href="global.html#checkForOnlyAlphabet">checkForOnlyAlphabet</a></li><li><a href="global.html#checkForPasswordFormat">checkForPasswordFormat</a></li><li><a href="global.html#confirm">confirm</a></li><li><a href="global.html#createNewElement">createNewElement</a></li><li><a href="global.html#CreateNewInput">CreateNewInput</a></li><li><a href="global.html#createOptions">createOptions</a></li><li><a href="global.html#crimOC">crimOC</a></li><li><a href="global.html#crimOCSS">crimOCSS</a></li><li><a href="global.html#deleteAdmin">deleteAdmin</a></li><li><a href="global.html#downloadS3">downloadS3</a></li><li><a href="global.html#empOC">empOC</a></li><li><a href="global.html#fireOC">fireOC</a></li><li><a href="global.html#floorOC">floorOC</a></li><li><a href="global.html#floorOCSS">floorOCSS</a></li><li><a href="global.html#getInputs">getInputs</a></li><li><a href="global.html#immunOC">immunOC</a></li><li><a href="global.html#loggedIn">loggedIn</a></li><li><a href="global.html#notification">notification</a></li><li><a href="global.html#password_length">password_length</a></li><li><a href="global.html#refOC">refOC</a></li><li><a href="global.html#request_status">request_status</a></li><li><a href="global.html#send_prep">send_prep</a></li><li><a href="global.html#siteOC">siteOC</a></li><li><a href="global.html#siteOCSS">siteOCSS</a></li><li><a href="global.html#uploadS3">uploadS3</a></li><li><a href="global.html#verification">verification</a></li><li><a href="global.html#verify">verify</a></li><li><a href="global.html#verify_forms_entered">verify_forms_entered</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Dec 06 2018 20:08:30 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
